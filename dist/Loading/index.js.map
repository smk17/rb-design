{"version":3,"sources":["Loading/index.js"],"names":["React","_interopRequireWildcard","require","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","Loading","_super","apply","arguments","_this","_el","state","width","height","componentDidMount","offsetWidth","offsetHeight","setState","render","props","error","_a","pastDelay","retry","console","log","createElement","className","onClick","_b","ref","el","src","alt","style"],"mappings":"2FAAA,IAAAA,MAAAC,wBAAAC,QAAA,yUACIA,QAAA,eADJ,IAAIC,UAAyC,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAQhC,OAAA,SAAAD,EAAAC,GACA,SAAAO,IAAAC,KAAAC,YAAAV,EANQD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV1C,GAErCT,QAAuBI,SAAAA,GAClB,SAAAU,IAA0DT,IAAAA,EAAF,OAAcH,GAAda,EAAAC,MAAAN,KAAAO,YAAAP,KACtB,OAFvBQ,EAEZC,IAAA,KAAkBD,EAAKE,MAAL,CAAAC,MAAA,GAAAC,OAAA,IAAuBd,EAuBrC,OAxBDH,UAAAA,EAAWU,GAC4DD,EAF9EF,UAAAW,kBAAA,WAsBA,GAAIb,KAAKS,IAAK,CAnBPnB,IAAAA,EAAAA,KAAiBE,IAAxBsB,YAAAF,EAAAZ,KAAAS,IAAAM,aAJJ,IAAAJ,EA0BYX,KAAKgB,SAAS,CAAEL,MAAO,MAAOC,OAAQ,UAG1BA,EAARD,EArBSV,EAAPW,GAAA,GAFlBA,EAGmBD,GAAYlB,GA4BP,IAARkB,IAvBTA,EAAAC,EAAA,KAAkBZ,KAAkBgB,SAAA,CAAAL,MAAAA,EAAAC,OAAAA,OAGvCR,EAAII,UAAcS,OAAN,WA4BZ,IAAIT,EAAQR,KA3BNS,EAAMT,KAAZkB,MAAAC,EAAAC,EAAAD,MAAAE,EAAAD,EAAAC,UAAAC,EAAAF,EAAAE,MACAd,GAAME,EAA2B,OAAZa,QAAPC,IAAAL,GAAqBjC,MAAAuC,cAAA,OAAA,CAAAC,UAAA,aAAAC,QAAAL,GAAA,gBAC5Bd,GAAPa,EAAA,CACH,IAAAO,EAAA5B,KAAAU,MAAAC,EAAAiB,EAAAjB,MAAAC,EAAAgB,EAAAhB,OAgCO,OAAQ1B,MAAMuC,cAAc,MAAO,CAAEI,IAAK,SAAUC,GAAM,OAAQtB,EAAMC,IAAMqB,GAAQJ,UAAW,cA/BjGxB,MAAUW,cAAAA,MAAoB,CAAAkB,IAAA,iCAAYC,IAAA,GAAAC,MAAA,CAAAtB,MAAAA,EAAAC,OAAAA,MAERA,OAAS,MAEvCR,EAzBeV,CAyBCiB,MAAAA,oBAAcC","file":"index.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from \"react\";\nimport \"./index.css\";\nvar Loading = /** @class */ (function (_super) {\n    __extends(Loading, _super);\n    function Loading() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._el = null;\n        _this.state = { width: 40, height: 40 };\n        return _this;\n    }\n    Loading.prototype.componentDidMount = function () {\n        if (this._el) {\n            var width = this._el.offsetWidth, height = this._el.offsetHeight;\n            if (width === 0) {\n                this.setState({ width: \"40%\", height: \"auto\" });\n            }\n            else {\n                if (width > height) {\n                    height = height * 0.8;\n                    width = height;\n                }\n                else {\n                    width = width * 0.4;\n                    height = width;\n                }\n                if (width > 100) {\n                    width = height = 100;\n                }\n                this.setState({ width: width, height: height });\n            }\n        }\n    };\n    Loading.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, error = _a.error, pastDelay = _a.pastDelay, retry = _a.retry;\n        if (error) {\n            console.log(error);\n            return (React.createElement(\"span\", { className: \"rb-loading\", onClick: retry }, \"\\u52A0\\u8F7D\\u7EC4\\u4EF6\\u51FA\\u9519\\uFF01\\u70B9\\u51FB\\u91CD\\u8BD5!\"));\n        }\n        else if (pastDelay) {\n            var _b = this.state, width = _b.width, height = _b.height;\n            return (React.createElement(\"div\", { ref: function (el) { return (_this._el = el); }, className: \"rb-loading\" },\n                React.createElement(\"img\", { src: \"//cdn.yuandingyun.vip/load.gif\", alt: \"\", style: { width: width, height: height } })));\n        }\n        else {\n            return null;\n        }\n    };\n    return Loading;\n}(React.Component));\nexport default Loading;\n"]}